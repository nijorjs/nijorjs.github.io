var t=new Proxy({},{set:(t,e,n)=>(null!=t[e]||null!=t[e]?(t[e]=n,document.querySelectorAll(`nrv[var="${e}"]`).forEach((t=>{t.innerText=n}))):t[e]=n,!0)});function e(t,e={}){document.querySelectorAll(`[on${t}]`).forEach((n=>{let a=(i=n.getAttribute(`on${t}`),r="_this",l="$data",i.replace(/\((.*?)\)/g,((t,e)=>`(${e.split(",").map((t=>{let e=t.trim();return"this"===e?r:"$data"===e?l:e})).join(", ")})`)));var i,r,l;new Function("_this","$data",`${a}`)(n,e)}))}window.nijor={component:class{constructor(t,e){this.template=t,this.cb=e}init(t){this.name=t}run=async function(t){let e=new RegExp(`(<${this.name}[^>]+>|<${this.name}>)`),n=document.getElementsByTagName(this.name)[0];if(0===document.getElementsByTagName(this.name).length)return;let a=function(t){let e=[],n=[];for(let a,i=0,r=t.attributes,l=r.length;i<l;i++)a=r[i],e.push(a.nodeName),n.push(a.nodeValue);e.push("_text_"),n.push(t.innerHTML);let a=n,i={};return e.forEach(((t,e)=>i[t]=a[e])),i}(n);null!=t&&(a=t);try{n.innerHTML=""}catch(t){}try{let t=await this.template(a);n.parentElement.innerHTML=n.parentElement.innerHTML.replace(e,t),await this.cb(a),await this.run()}catch(t){let n=await this.template(a);document.body.innerHTML=document.body.innerHTML.replace(e,n),await this.cb(a),await this.run()}}}},window.eventStorage={},window.reactiveVar=t;export{e as dispatchEvent};